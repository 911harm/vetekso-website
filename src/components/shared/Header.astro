---
import Logo from "../client/Logo";
import ToggleMenu from "../client/ToggleMenu";
import NavMenu from "../client/NavMenu";
import { NAV_LINKS } from "../../utils/consts";

const { pathname: urlPathname } = new URL(Astro.request.url);
---

<header class="bg-blue fixed top-0 left-0 w-full z-50">
  <nav
    class="max-w-6xl mx-auto px-6 sm:px-12 flex justify-between items-center"
  >
    <Logo client:load />
    <ToggleMenu client:load />
    <div
      class="space-x-6 min-[800px]:space-x-8 w-full hidden md:block md:w-auto"
      id="navbar-default"
    >
      {
        NAV_LINKS.map(({ label, pathname }) => {
          const isActive = urlPathname === pathname;

          return (
            <a
              href={pathname}
              class:list={[
                "text-xl transition-colors duration-200 hover:text-fuchsia-100",
                { "text-white": !isActive },
                { "text-fuchsia-100": isActive },
              ]}
            >
              {label}
            </a>
          );
        })
      }
    </div>
    <NavMenu client:load urlPathname={urlPathname} />
  </nav>
</header>

<style lang="scss">
  header {
    box-shadow: 4px 0px 10px 0px #00000040;

    nav {
      height: 100px;
    }
  }
</style>
